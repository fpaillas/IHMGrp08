<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recettes</title>
    <link rel="stylesheet" type="text/css" href="../design.css">
</head>
<body>
    <!-- entête haut de page -->
    <iframe src="../header/header.html" frameborder="0"></iframe>
    <!-- entête haut de page -->


    <div class="menu">
        <button onclick="afficherRecettes('Pizza')">Pizza</button>
        <button onclick="afficherRecettes('Pasta')">Pasta</button>
        <button onclick="afficherRecettes('Rice')">Rice</button>
    </div>
    
    <div id="recipeContainer"></div>

    <script>
         const recipes = [
            {
                "name": "Margherita Pizza",
                "category": "Pizza",
                "image": "Claraimg/pizzaM.jpeg",
                "ingredients": ["pizza dough", "tomato sauce", "mozzarella", "basil"],
                "preparation": "Preparation of Margherita Pizza: \n1. Preheat the oven to 220°C. \n2. Roll out the pizza dough on a baking sheet. \n3. Spread the tomato sauce over the dough. \n4. Arrange the mozzarella and basil leaves. \n5. Bake for 15-20 minutes."
            },
            {
                "name": "Four Cheese Pizza",
                "category": "Pizza",
                "image": "Claraimg/pizza_quatre_fromages.jpeg",
                "ingredients": ["pizza dough", "tomato sauce", "mozzarella", "gorgonzola", "emmental", "parmesan", "oregano"],
                "preparation": "Preparation of Four Cheese Pizza: \n1. Preheat the oven to 220°C. \n2. Roll out the pizza dough on a baking sheet. \n3. Spread the tomato sauce over the dough. \n4. Add the different cheeses and sprinkle with oregano. \n5. Bake for 15-20 minutes."
            },
            {
                "name": "Spaghetti Carbonara",
                "category": "Pasta",
                "image": "Claraimg/carbonara.jpeg",
                "ingredients": ["spaghetti", "eggs", "guanciale", "parmesan", "pepper"],
                "preparation": "Preparation of Spaghetti Carbonara: \n1. Cook the spaghetti in boiling salted water. \n2. In a pan, fry the guanciale. \n3. Beat the eggs with parmesan and pepper. \n4. Drain the pasta and mix with the guanciale. \n5. Off the heat, add the egg and parmesan mixture. \n6. Serve immediately."
            },
            {
                "name": "Mushroom Risotto",
                "category": "Rice",
                "image": "Claraimg/rissotoC.jpeg",
                "ingredients": ["rice", "mushrooms", "chicken broth", "onion", "white wine", "parmesan"],
                "preparation": "Preparation of Mushroom Risotto: \n1. Heat the chicken broth. \n2. Fry the onion in a little oil. \n3. Add the rice and white wine, let it absorb. \n4. Gradually add the hot broth, stirring regularly, until the rice is cooked. \n5. Add the mushrooms and parmesan. \n6. Serve hot."
            },
            {
                "name": "Lasagna",
                "category": "Pasta",
                "image": "Claraimg/lasagnes.jpeg",
                "ingredients": ["lasagna sheets", "ground beef", "tomato sauce", "béchamel sauce", "grated cheese", "onion", "garlic", "olive oil", "salt", "pepper"],
                "preparation": "Preparation of Lasagna: \n1. Fry the onion and garlic in olive oil. \n2. Add the ground beef and cook. \n3. Add the tomato sauce and simmer. \n4. In a dish, alternate layers of lasagna sheets, meat sauce, and béchamel sauce. \n5. Finish with a layer of grated cheese. \n6. Bake at 180°C for 30-40 minutes."
            },
            {
                "name": "Chicken and Vegetable Rice",
                "category": "Rice",
                "image": "Claraimg/riz_poulet_legumes.jpeg",
                "ingredients": ["rice", "chicken breast", "bell peppers", "peas", "carrots", "onion", "garlic", "chicken broth", "olive oil", "salt", "pepper", "curry powder"],
                "preparation": "Preparation of Chicken and Vegetable Rice: \n1. Cook the rice in chicken broth. \n2. Fry the onion and garlic in olive oil. \n3. Add the pieces of chicken and diced vegetables. \n4. Season with curry powder, salt, and pepper. \n5. Add the cooked rice and mix. \n6. Serve hot."
            }
        ];

        // Fonction pour afficher les recettes en fonction de la catégorie
        function afficherRecettes(categorie) {
            const container = document.getElementById("recipeContainer");
            container.innerHTML = '';

            recipes.forEach(recette => {
                if (recette.category === categorie) {
                    const divRecette = document.createElement("div");
                    divRecette.classList.add("recipe");
                    divRecette.innerHTML = `
                        <img src="${recette.image}" alt="${recette.name}">
                        <h2>${recette.name}</h2>
                        <p><strong>Catégorie:</strong> ${recette.category}</p>
                    `;
                    // Ajouter un gestionnaire d'événements de clic à chaque recette
                    divRecette.addEventListener('click', function() {
                        afficherDetailsRecette(recette);
                    });
                    container.appendChild(divRecette);
                }
            });
        }

        // Fonction pour rechercher des recettes
        function rechercherRecettes() {
            const recherche = document.getElementById('searchInput').value.toLowerCase();
            const container = document.getElementById("recipeContainer");
            container.innerHTML = '';

            recipes.forEach(recette => {
                if (recette.name.toLowerCase().includes(recherche)) {
                    const divRecette = document.createElement("div");
                    divRecette.classList.add("recipe");
                    divRecette.innerHTML = `
                        <a href="preparation-recette.html?recipireName=${encodeURIComponent(recette.name)}">
                            <img src="${recette.image}" alt="${recette.name}">
                            <h2>${recette.name}</h2>
                            <p><strong>Catégorie:</strong> ${recette.category}</p>
                        </a>
                    `;
                    // Ajouter un gestionnaire d'événements de clic à chaque recette
                    divRecette.addEventListener('click', function() {
                        afficherDetailsRecette(recette);
                    });
                    container.appendChild(divRecette);
                }
            });
        }

        // Fonction pour afficher les détails de la recette
        function afficherDetailsRecette(recette) {
            // Rediriger l'utilisateur vers la page des détails de la recette avec le nom de la recette en tant que paramètre de requête
            window.location.href = `details-recette.html?recipeName=${encodeURIComponent(recette.name)}`;
        }
    </script>

</body>
</html>
