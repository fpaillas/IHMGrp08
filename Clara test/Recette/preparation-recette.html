<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Préparation de la recette</title>
    <style>
        /* Ajoutez vos styles CSS ici */
        .etape-preparation {
            display: none;
        }
        .etape-preparation.active {
            display: block;
        }
    </style>
</head>
<body>
    <h1>Préparation de la recette</h1>

    <div id="ingredients">
        <!-- La liste des ingrédients sera affichée ici -->
    </div>

    <div id="etapes-preparation">
        <!-- Les étapes de la préparation seront affichées ici -->
    </div>

    <!-- Boutons -->
    <button onclick="afficherEtapePrecedente()">Étape précédente</button>
    <button onclick="afficherEtapeSuivante()">Étape suivante</button>
    <button onclick="retourPageAccueil()">Retour</button>

    <script>
        // Récupérer le nom de la recette à partir de l'URL
        const params = new URLSearchParams(window.location.search);
        const nomRecette = params.get('nomRecette');

        // Recherche de la recette par son nom
        const recette = recettes.find(r => r.nom === nomRecette);

        // Afficher les détails de la recette
        if (recette) {
            const ingredientsDiv = document.getElementById('ingredients');
            ingredientsDiv.innerHTML = `
                <h2>Ingrédients :</h2>
                <ul>
                    ${recette.ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}
                </ul>
            `;

            const etapesPreparationDiv = document.getElementById('etapes-preparation');
            etapesPreparationDiv.innerHTML = `
                <h2>Étapes de préparation :</h2>
                ${getEtapesPreparation(nomRecette)}
            `;
        }

        // Fonction pour récupérer les étapes de préparation de la recette
        function getEtapesPreparation(nomRecette) {
            // Recherche de la recette par son nom
            const recette = recettes.find(r => r.nom === nomRecette);

            // Vérification si la recette a été trouvée
            if (recette) {
                // Séparation de la chaîne de préparation en étapes individuelles
                const etapes = recette.preparation.split('. ');

                // Création des éléments HTML pour chaque étape
                const etapesHTML = etapes.map((etape, index) => `<div class="etape-preparation ${index === 0 ? 'active' : ''}" id="etape${index + 1}"><h3>Étape ${index + 1}</h3><p>${etape}</p></div>`).join('');

                // Retourner les étapes de préparation
                return etapesHTML;
            } else {
                // Si la recette n'est pas trouvée, retourner un message d'erreur
                return '<p>Recette introuvable.</p>';
            }
        }

        // Fonction pour afficher l'étape suivante de la préparation
        function afficherEtapeSuivante() {
            // Récupérer l'ID de l'étape actuellement active
            const activeEtapeId = document.querySelector('.etape-preparation.active').id;
            // Récupérer le numéro de l'étape
            const etapeNumber = parseInt(activeEtapeId.replace('etape', ''));
            // Masquer l'étape actuelle
            document.getElementById(activeEtapeId).classList.remove('active');
            // Afficher l'étape suivante
            const nextEtapeId = `etape${etapeNumber + 1}`;
            if (document.getElementById(nextEtapeId)) {
                document.getElementById(nextEtapeId).classList.add('active');
            }
        }

        // Fonction pour afficher l'étape précédente de la préparation
        function afficherEtapePrecedente() {
            // Récupérer l'ID de l'étape actuellement active
            const activeEtapeId = document.querySelector('.etape-preparation.active').id;
            // Récupérer le numéro de l'étape
            const etapeNumber = parseInt(activeEtapeId.replace('etape', ''));
            // Masquer l'étape actuelle
            document.getElementById(activeEtapeId).classList.remove('active');
            // Afficher l'étape précédente
            const prevEtapeId = `etape${etapeNumber - 1}`;
            if (document.getElementById(prevEtapeId)) {
                document.getElementById(prevEtapeId).classList.add('active');
            }
        }

        // Fonction pour retourner à la page d'accueil
        function retourPageAccueil() {
            window.location.href = 'ClaraTest.html';
        }
    </script>
</body>
</html>
