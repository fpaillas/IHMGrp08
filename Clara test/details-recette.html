<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Details</title>
    <link rel="stylesheet" type="text/css" href="../design.css">
    <style>
        ul {
            list-style-type: none; /* Supprime les puces */
            padding: 0; /* Supprime le remplissage intérieur */
            margin: 0; /* Supprime la marge extérieure */
        }
        li {
            margin-bottom: 5px; /* Espacement entre chaque ingrédient */
        }
    </style>
</head>
<body>
    <!----------------- Header Section ----------------->
    <iframe src="../header/header.html" frameborder="0"></iframe>
    <!----------------- Header Section ----------------->
    <h1>Recipe Details</h1>

    <div id="details-recipe"></div>

    <button onclick="startPreparation()">Start Preparation</button>
    <button onclick="goBack()">Return</button>

    <script>
        const recipes = [
            {
                "name": "Margherita Pizza",
                "category": "Pizza",
                "image": "Claraimg/pizzaM.jpeg",
                "ingredients": ["pizza dough", "tomato sauce", "mozzarella", "basil"],
                "preparation": "Preparation of Margherita Pizza: \n1. Preheat the oven to 220°C. \n2. Roll out the pizza dough on a baking sheet. \n3. Spread the tomato sauce over the dough. \n4. Arrange the mozzarella and basil leaves. \n5. Bake for 15-20 minutes."
            },
            {
                "name": "Four Cheese Pizza",
                "category": "Pizza",
                "image": "Claraimg/pizza_quatre_fromages.jpeg",
                "ingredients": ["pizza dough", "tomato sauce", "mozzarella", "gorgonzola", "emmental", "parmesan", "oregano"],
                "preparation": "Preparation of Four Cheese Pizza: \n1. Preheat the oven to 220°C. \n2. Roll out the pizza dough on a baking sheet. \n3. Spread the tomato sauce over the dough. \n4. Add the different cheeses and sprinkle with oregano. \n5. Bake for 15-20 minutes."
            },
            {
                "name": "Spaghetti Carbonara",
                "category": "Pasta",
                "image": "Claraimg/carbonara.jpeg",
                "ingredients": ["spaghetti", "eggs", "guanciale", "parmesan", "pepper"],
                "preparation": "Preparation of Spaghetti Carbonara: \n1. Cook the spaghetti in boiling salted water. \n2. In a pan, fry the guanciale. \n3. Beat the eggs with parmesan and pepper. \n4. Drain the pasta and mix with the guanciale. \n5. Off the heat, add the egg and parmesan mixture. \n6. Serve immediately."
            },
            {
                "name": "Mushroom Risotto",
                "category": "Rice",
                "image": "Claraimg/rissotoC.jpeg",
                "ingredients": ["rice", "mushrooms", "chicken broth", "onion", "white wine", "parmesan"],
                "preparation": "Preparation of Mushroom Risotto: \n1. Heat the chicken broth. \n2. Fry the onion in a little oil. \n3. Add the rice and white wine, let it absorb. \n4. Gradually add the hot broth, stirring regularly, until the rice is cooked. \n5. Add the mushrooms and parmesan. \n6. Serve hot."
            },
            {
                "name": "Lasagna",
                "category": "Pasta",
                "image": "Claraimg/lasagnes.jpeg",
                "ingredients": ["lasagna sheets", "ground beef", "tomato sauce", "béchamel sauce", "grated cheese", "onion", "garlic", "olive oil", "salt", "pepper"],
                "preparation": "Preparation of Lasagna: \n1. Fry the onion and garlic in olive oil. \n2. Add the ground beef and cook. \n3. Add the tomato sauce and simmer. \n4. In a dish, alternate layers of lasagna sheets, meat sauce, and béchamel sauce. \n5. Finish with a layer of grated cheese. \n6. Bake at 180°C for 30-40 minutes."
            },
            {
                "name": "Chicken and Vegetable Rice",
                "category": "Rice",
                "image": "Claraimg/riz_poulet_legumes.jpeg",
                "ingredients": ["rice", "chicken breast", "bell peppers", "peas", "carrots", "onion", "garlic", "chicken broth", "olive oil", "salt", "pepper", "curry powder"],
                "preparation": "Preparation of Chicken and Vegetable Rice: \n1. Cook the rice in chicken broth. \n2. Fry the onion and garlic in olive oil. \n3. Add the pieces of chicken and diced vegetables. \n4. Season with curry powder, salt, and pepper. \n5. Add the cooked rice and mix. \n6. Serve hot."
            }
        ];

        // Get the recipe name from the URL
        const params = new URLSearchParams(window.location.search);
        const recipeName = params.get('recipeName');

        // Find the recipe by its name
        const recipe = recipes.find(r => r.name === recipeName);

        // Display recipe details
        if (recipe) {
            const detailsRecipe = document.getElementById('details-recipe');
            detailsRecipe.innerHTML = `
                <h2>${recipe.name}</h2>
                <img src="${recipe.image}" alt="${recipe.name}">
                <h3>Ingredients:</h3>
                <ul>
                    ${recipe.ingredients.map(ingredient => `<ul>${ingredient}</ul>`).join('')}
                </ul>
            `;
        }

        // Function to start preparation
        function startPreparation() {
            // Redirect the user to the preparation page with the recipe name as a query parameter
            window.location.href = `preparation-recette.html?recipeName=${encodeURIComponent(recipeName)}`;
        }

        // Function to go back to the previous page
        function goBack() {
            window.history.back();
        }
    </script>
</body>
</html>
